from machine import Pin, SPI
from ssd1306 import SSD1306_SPI
import framebuf
from time import sleep
from utime import sleep_ms


def display_logo(oled):
    # Display the Raspberry Pi logo on the OLED
    buffer = bytearray(
        b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00|?\x00\x01\x86@\x80\x01\x01\x80\x80\x01\x11\x88\x80\x01\x05\xa0\x80\x00\x83\xc1\x00\x00C\xe3\x00\x00~\xfc\x00\x00L'\x00\x00\x9c\x11\x00\x00\xbf\xfd\x00\x00\xe1\x87\x00\x01\xc1\x83\x80\x02A\x82@\x02A\x82@\x02\xc1\xc2@\x02\xf6>\xc0\x01\xfc=\x80\x01\x18\x18\x80\x01\x88\x10\x80\x00\x8c!\x00\x00\x87\xf1\x00\x00\x7f\xf6\x00\x008\x1c\x00\x00\x0c \x00\x00\x03\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
    )
    fb = framebuf.FrameBuffer(buffer, 32, 32, framebuf.MONO_HLSB)

    oled.blit(fb, 96, 15)
    oled.show()


def display_pikachu(oled):
    # Display the Raspberry Pi logo on the OLED
    buffer = bytearray(
        b"\x00\x00\x01\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xe0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xf0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\xfc\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xfe\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\xf8\x80\x00\x00\x00\x00\x00\x00\x00\x01\xe0\x00\x00\x00\x00\x00x@\x00\x00\x00\x00\x00\x00\x00\x1f\xe0\x00\x00\x00\x00\x008\x10\x00\x00\x00\x00\x00\x00\x00\xff\xc0\x00\x00\x00\x00\x008\x0c\x00\x00\x00\x00\x00\x00\x03\xff\x80\x00\x00\x00\x00\x00\x18\x02\x00\x00\x00\x00\x00\x00\x1c\x7f\x80\x00\x00\x00\x00\x00\x0c\x01\x80\x00\x00\x00\x00\x00`\x7f\x00\x00\x00\x00\x00\x00\x0c\x00\xc0\x00\x00\x00\x00\x01\x80~\x00\x00\x00\x00\x00\x00\x04\x000\x00\x00\x00\x00\x0e\x00|\x00\x00\x00\x00\x00\x00\x06\x00\x18\x00\x00\x00\x008\x00\xfc\x00\x00\x00\x00\x00\x00\x03\x00\x06\x00\x00\x00\x00\xe0\x00\xf8\x00\x00\x00\x00\x00\x00\x01\x00\x03\x00\x00\x00\x03\x80\x00\xf0\x00\x00\x00\x00\x00\x00\x01\x80\x00\x80\x00\x00\x0c\x00\x00\xe0\x00\x00\x00\x00\x00\x00\x00\xc0\x00`\x00\x000\x00\x01\xc0\x00\x00\x00\x00\x00\x00\x00\xc0\x00?\xff\xff\xe0\x00\x01\x80\x00\x00\x00\x00\x00\x00\x00`\x00\x10\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\x00\x00\x18\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00\x18\x00\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\x00\x00\x00\x00 \x00\x00\x00\x00\x00\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\xc0\x00\x00\x00\x00\x00\x00\x00\x00\x03 \x00\x00\x00\x00\x01\x80\x00\x00\x00\x00\x00\x00\x00\x00\x01\xc0\x00\x00\x00\x00C\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x00\x00\x00\x00&\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\x00\x00\x00\x00\x18\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x03\x80\x0c\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xe0\x00\x05\xc0\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x04p\x00\x08\xe0\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x04p\x00\x08\xe0\x06\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x06\xf0\x00\r\xe0\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x03\xf0\x00\x07\xe0\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x03\xf0\x00\x07\xe0\x02\x00\x00\x00\x00\x00\x00\x00\x00\x00\x04\x01\xe0\x00\x01\xc0\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0c\x00\x00\xf0\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x08\x00\x00\xf0\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x0f\xc0\x000\x00\x00\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x1f\xe0\x00\x00\x00\x0f\x81\x80\x00\x00\x00\x00\x00\x00\x00\x00\x1f\xf0\x00\x00\x00\x1f\xc0\x80\x00\x00\x00\x00\x00\x00\x00\x00\x1f\xf0\x00\x00\x00\x1f\xe0\x80\x00\x00\x00\x00\x00\x00\x00\x00\x1f\xf0\x00\x00\x00\x1f\xe0\x80\x00\x00\x00\x00\x00\x00\x00\x00?\xf0\x01\xfe\x00\x1f\xe0\xc0\x00\x00\x00\x00\x00\x00\x00\x007\xe0\x03\xf3\x80\x1f\xe0\xc0\x00\x00\x00\x00\x00\x00\x00\x00#\xc0\x03\xc1\x80\x1f\xc0@\x00\x00\x00\x00\x00\x00\x00\x000\x00\x03\x80\x80\x0f\xc0@\x00\x00\x00\x00\x00\x00\x00\x00\x10\x00\x03\x00\xc0\x07\x00@\x00\x00\x00\x00\x00\x00\x00\x00\x10\x00\x03\x00\x80\x00\x00@\x00\x00\x00\x00\x00\x00\x00\x00\x08\x00\x01\x81\x80\x00\x00`\x00\x00\x00\x00\x00\x00\x00\x00\x08\x00\x01\xc7\x80\x00\x00 \x00\x00\x00\x00\x00\x00\x00\x00\x04\x00\x00\x7f\x00\x00\x00 \x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00 \x00\x00\x00\x00\x00\x00\x00\x00\x03\x00\x00\x00\x00\x00\x00 \x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x000\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x01\x00\x00\x00\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x00\x00\x00\x00\x00\x10\x00\x00\x00\x00\x00\x00\x00\x00\x06\x00\x00\x00\x00\x00\x00\x18\x00\x00\x00\x00"
    )
    fb = framebuf.FrameBuffer(buffer, 128, 64, framebuf.MONO_HLSB)

    oled.invert(0)
    oled.blit(fb, 0, 0)
    oled.show()


def display_plane(oled):
    # open image, put your image here
    with open("plane-icon.pbm", "rb") as f:
        f.readline()  # number
        f.readline()  # Creator
        f.readline()  # Dimensions
        data = bytearray(f.read())

    fb = framebuf.FrameBuffer(data, 128, 64, framebuf.MONO_HLSB)

    while True:
        try:
            for i in range(128):
                # oled.invert(0)
                oled.blit(fb, i, 0)
                oled.show()
                sleep_ms(10)
        except KeyboardInterrupt:
            break


spi = SPI(0, 100000, mosi=Pin(19), sck=Pin(18))

# oled = SSD1306_SPI(WIDTH, HEIGHT, spi, dc,rst, cs) use GPIO PIN NUMBERS
oled = SSD1306_SPI(128, 64, spi, Pin(17), Pin(20), Pin(16))

# while True:
#     try:
#         for i in range(40):
#             for j in range(56):
#                 oled.fill(0)
#                 oled.show()
#                 # sleep(1)
#                 oled.text("HELLO WORLD", i, j)
#                 oled.show()
#                 sleep_ms(10)
#     except KeyboardInterrupt:
#         break

oled.fill(0)
oled.show()
oled.text("Happy BirthDay", 0, 0)
oled.text("Vaishnavi!!!", 0, 16)
oled.text("Have a Blast E>", 0, 16 * 2)
oled.show()
#
# display_logo(oled)

# display_pikachu(oled)

# display_plane(oled)

# oled.fill(0)
# oled.show()
